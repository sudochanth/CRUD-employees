{"ast":null,"code":"var _jsxFileName = \"/Users/Sunny/development/programming/employees-crud/client/src/App.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport EmployeeList from './components/EmployeeList';\nimport EmployeeForm from './components/EmployeeForm';\nimport Navbar from './components/Navbar';\nimport './app.scss';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.onHandleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.visibleToggle = () => {\n      this.setState(prevState => ({\n        isVisible: !prevState.isVisible\n      }));\n    };\n\n    this.onButtonSubmit = e => {\n      e.preventDefault();\n      const _this$state = this.state,\n            employeeId = _this$state.employeeId,\n            firstName = _this$state.firstName,\n            lastName = _this$state.lastName,\n            email = _this$state.email,\n            phoneNumber = _this$state.phoneNumber;\n      const newEmployee = {\n        employeeId,\n        firstName,\n        lastName,\n        email,\n        phoneNumber\n      };\n      axios.post('/employees', newEmployee).then(response => {\n        this.setState(prevState => {\n          return {\n            employees: [response.data, ...prevState.employees]\n          };\n        });\n      }).catch(err => console.log(err + 'this is error post req'));\n      this.setState({\n        employeeId: '',\n        firstName: '',\n        lastName: '',\n        email: '',\n        phoneNumber: ''\n      });\n      console.log(this.state);\n    };\n\n    this.deleteEmployee = _id => {\n      axios.delete(\"/employees/\".concat(_id)).then(response => {\n        this.setState(prevState => ({\n          employees: prevState.employees.filter(employee => employee._id !== _id)\n        }));\n      }).catch(err => console.log(err));\n    };\n\n    this.editEmployee = (_id, updates) => {\n      axios.put(\"/employees/\".concat(_id), updates).then(response => {\n        const updatedEmployee = response.data;\n        this.setState(prevState => ({\n          employees: prevState.employees.map(employee => employee._id === _id ? updatedEmployee : employee)\n        }));\n        console.log(this.state);\n      }).catch(err => console.log(err));\n    };\n\n    this.state = {\n      employees: [],\n      employeeId: '',\n      firstName: '',\n      lastName: '',\n      email: '',\n      phoneNumber: '',\n      isVisible: false\n    };\n  }\n\n  componentDidMount() {\n    axios.get('/employees').then(response => {\n      this.setState({\n        employees: response.data\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"background\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      visibleToggle: this.visibleToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), !this.state.isVisible ? React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }) : React.createElement(EmployeeForm, {\n      onHandleChange: this.onHandleChange,\n      onButtonSubmit: this.onButtonSubmit,\n      visibleToggle: this.visibleToggle,\n      employeeId: this.state.employeeId // ^ added this\n      ,\n      firstName: this.state.firstName,\n      lastName: this.state.lastName,\n      email: this.state.email,\n      phoneNumber: this.state.phoneNumber,\n      btnText: \"Add Employee\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(EmployeeList, {\n      employees: this.state.employees,\n      deleteEmployee: this.deleteEmployee,\n      editEmployee: this.editEmployee,\n      visibleToggle: this.visibleToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }));\n  }\n\n}\n\n;\nexport default App;","map":{"version":3,"sources":["/Users/Sunny/development/programming/employees-crud/client/src/App.js"],"names":["React","Component","axios","EmployeeList","EmployeeForm","Navbar","App","constructor","onHandleChange","e","setState","target","name","value","visibleToggle","prevState","isVisible","onButtonSubmit","preventDefault","state","employeeId","firstName","lastName","email","phoneNumber","newEmployee","post","then","response","employees","data","catch","err","console","log","deleteEmployee","_id","delete","filter","employee","editEmployee","updates","put","updatedEmployee","map","componentDidMount","get","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport EmployeeList from './components/EmployeeList';\nimport EmployeeForm from './components/EmployeeForm';\nimport Navbar from './components/Navbar';\nimport './app.scss';\n\nclass App extends Component {\n  constructor() {\n    super()\n    this.state = {\n      employees: [],\n      employeeId: '',\n      firstName: '',\n      lastName: '',\n      email: '',\n      phoneNumber: '',\n      isVisible: false\n    }\n  }\n\n  componentDidMount() {\n    axios.get('/employees')\n      .then(response => {\n        this.setState({\n          employees: response.data\n        })\n      })\n      .catch(err => console.log(err))\n  }\n\n  onHandleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n    \n  visibleToggle = () => {\n    this.setState(prevState => ({\n      isVisible: !prevState.isVisible\n    }))\n  }\n    \n  onButtonSubmit = (e) => {\n    e.preventDefault();\n    const { employeeId, firstName, lastName, email, phoneNumber } = this.state;\n    const newEmployee = { employeeId, firstName, lastName, email, phoneNumber };\n    axios.post('/employees', newEmployee)\n      .then(response => {\n        this.setState(prevState => {\n          return {\n            employees: [response.data, ...prevState.employees],\n            \n          }\n        })\n      })\n      .catch(err => console.log(err + 'this is error post req'))\n\n    this.setState({\n      employeeId: '',\n      firstName: '',\n      lastName: '',\n      email: '',\n      phoneNumber: ''\n    })\n    console.log(this.state)\n  }\n\n  deleteEmployee = _id => {\n    axios.delete(`/employees/${_id}`).then(response => {\n      this.setState(prevState => ({\n          employees: prevState.employees.filter(employee => employee._id !== _id)\n      }))\n    })\n    .catch(err => console.log(err))\n  }\n\n  editEmployee = (_id, updates) => {\n    axios.put(`/employees/${_id}`, updates)\n    .then(response => {\n      const updatedEmployee = response.data;\n      this.setState(prevState => ({\n          employees: prevState.employees.map(employee => employee._id === _id ? updatedEmployee : employee)\n      }))\n      console.log(this.state)\n    })\n    .catch(err => console.log(err))\n  } \n\n  render() {\n    return (\n      <div id='background'>\n        <Navbar visibleToggle={this.visibleToggle} />\n        { !this.state.isVisible ?\n          <span></span> \n          :\n          <EmployeeForm \n            onHandleChange={this.onHandleChange}\n            onButtonSubmit={this.onButtonSubmit}\n            visibleToggle={this.visibleToggle}\n            employeeId={this.state.employeeId}\n            // ^ added this\n            firstName={this.state.firstName}\n            lastName={this.state.lastName}\n            email={this.state.email}\n            phoneNumber={this.state.phoneNumber}\n            btnText='Add Employee' \n          />}\n        <EmployeeList \n          employees={this.state.employees}\n          deleteEmployee={this.deleteEmployee}\n          editEmployee={this.editEmployee} \n          visibleToggle={this.visibleToggle} />\n      </div>\n    );\n  }\n};\n\nexport default App;"]},"metadata":{},"sourceType":"module"}